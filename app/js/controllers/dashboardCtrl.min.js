ChatApp.controller("dashboardCtrl",["$scope","$rootScope","$http","$state","$sessionStorage","$stateParams","$timeout","CONFIG",function(t,e,o,s,a,n,i,r){t.getUserData("dashboard"),t.getUserList=function(){a.userData.userId;o({method:"GET",url:r.rootUrl+"getUserlist",headers:{"Content-Type":"application/json"}}).then(function(e){1==e.data.success&&e.data.userData.length>0&&(t.userList=e.data.userData)})},t.getUserList(),t.messageView=function(e){console.log("item",e),a.recieverData=e,s.go("home.chatView",{fromUserId:t.userData.userId,toUserId:e.userId})},t.notifyUser=function(){OneSignal.push(function(){OneSignal.init({appId:"fe9010f6-0bb3-464a-9e55-6aab21b2f944",autoRegister:!0,notifyButton:{enable:!1},welcomeNotification:{title:"My Custom Title",message:"Thanks for subscribing!"},promptOptions:{actionMessage:"We'd like to show you notifications for the latest news and updates.",acceptButtonText:"ALLOW",cancelButtonText:"NO THANKS"}})}),OneSignal.push(function(){OneSignal.showHttpPrompt()})},i(function(){console.log("ONESIGNAL_HTTP_PROMPT_SHOWN",a.ONESIGNAL_HTTP_PROMPT_SHOWN),t.notifyUser()},100)}]);
